<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Feliz Cumplea√±os ‚Äî Dedicatoria Especial</title>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;700&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#0f1724;
      --card:#0b1220;
      --accent:#e6b422;
      --muted:#98a3b3;
    }
    html,body{height:100%;margin:0;font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial}
    body{background:linear-gradient(180deg,var(--bg) 0%, #08101a 100%);color:white;display:flex;align-items:center;justify-content:center;padding:20px 0}
    .stage{width:min(1000px,94vw);min-height:640px;border-radius:20px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));box-shadow:0 10px 40px rgba(2,6,23,0.8);overflow:hidden;position:relative}
    .curtain{position:absolute;inset:0;background:linear-gradient(135deg, rgba(14,24,35,0.95), rgba(6,10,16,0.95));display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:40;padding:32px;text-align:center}
    .curtain h1{font-family:'Playfair Display',serif;font-size:36px;margin:0 0 8px;color:var(--accent)}
    .curtain p{color:var(--muted);max-width:700px;margin:0 0 20px}
    .open-btn{background:linear-gradient(90deg,var(--accent),#ffdd69);border:none;color:#07101a;font-weight:700;padding:14px 28px;border-radius:999px;font-size:16px;cursor:pointer;box-shadow:0 6px 18px rgba(230,180,34,0.18)}
    .content{display:flex;flex-direction:column;padding:30px;height:100%;gap:20px}
    .header-section{margin-bottom:15px}
    .title{font-family:'Playfair Display',serif;font-size:32px;margin:0 0 8px;color:var(--accent)}
    .subtitle{color:var(--muted);margin:0 0 18px}
    .details-section{display:grid;grid-template-columns:1fr 1fr;gap:30px;margin-bottom:15px}
    .details-box, .verses-box{background:rgba(255,255,255,0.02);padding:18px;border-radius:12px}
    .details-title, .verses-title{font-family:'Playfair Display',serif;font-size:20px;margin:0 0 14px;color:var(--accent)}
    .details-content p, .verses-content p{margin:8px 0;color:var(--muted)}
    .divider{height:1px;background:rgba(255,255,255,0.1);margin:15px 0}
    .photo-section{display:flex;justify-content:center;margin:10px 0}
    .permanent-photo{width:220px;height:160px;border-radius:10px;object-fit:cover;border:2px solid var(--accent);box-shadow:0 4px 12px rgba(0,0,0,0.3)}
    .lyric-section{background:rgba(255,255,255,0.02);padding:18px;border-radius:12px;min-height:100px;display:flex;align-items:center;justify-content:center;margin-bottom:15px}
    .lyric{font-size:16px;line-height:1.5;text-align:center;max-width:520px;font-weight:500}
    .controls-section{display:flex;justify-content:space-between;align-items:center;margin-bottom:15px}
    .player-controls{display:flex;gap:10px}
    .control-btn{background:rgba(255,255,255,0.05);border:1px solid rgba(255,255,255,0.1);color:white;padding:8px 14px;border-radius:6px;cursor:pointer;font-size:13px;transition:all 0.2s}
    .control-btn:hover{background:rgba(255,255,255,0.1)}
    .signature{color:var(--muted);font-size:13px}
    .advanced-controls{display:flex;gap:14px;justify-content:center}
    .advanced-btn{background:none;border:none;color:var(--muted);cursor:pointer;font-size:13px;text-decoration:underline}
    footer{position:absolute;bottom:15px;left:20px;right:20px;display:flex;justify-content:space-between;align-items:center;color:var(--muted);font-size:12px}
    .hidden{display:none}
  </style>
</head>
<body>
  <div class="stage">
    <div class="curtain" id="curtain">
      <h1>Un regalo para Ale</h1>
      <p>Abre este peque√±o presente cuando est√©s lista. Dentro hallar√°s una canci√≥n y palabras hechas solo para ti. Pulsa "Abrir regalo" para comenzar la sorpresa.</p>
      <button class="open-btn" id="openBtn">Abrir regalo</button>
    </div>
    <div class="content" id="mainContent" style="opacity:0;transform:translateY(10px);transition:all .6s ease;">
      <div class="header-section">
        <h1 class="title">Feliz cumplea√±os, Ale</h1>
        <p class="subtitle">Que este d√≠a brille tanto como t√∫. Aqu√≠ tienes con cari√±o.</p>
      </div>
      
      <div class="details-section">
        <div class="details-box">
          <h2 class="details-title">Detalles elegantes</h2>
          <div class="details-content">
            <p><strong>Fecha:</strong> 03/11/2025</p>
            <p><strong>Lugar:</strong> En mi coraz√≥n</p>
          </div>
        </div>
        
        <div class="verses-box">
          <h2 class="verses-title">Versos destacados</h2>
          <div class="verses-content">
            <p>Eres una persona especial, nunca lo olvides.</p>
          </div>
        </div>
      </div>
      
      <div class="divider"></div>
      
      <!-- Secci√≥n para la foto permanente -->
      <div class="photo-section">
        <img src="WhatsApp Image 2025-11-02 at 11.24.18 PM.jpeg" 
             alt="Foto especial para Ale" class="permanent-photo">
      </div>
      
      <div class="divider"></div>
      
      <div class="lyric-section">
        <div class="lyric" id="lyricDisplay">Pulsa "Reproducir" para escuchar la canci√≥n y ver la dedicatoria l√≠nea por l√≠nea...</div>
      </div>
      
      <div class="controls-section">
        <div class="player-controls">
          <button class="control-btn" id="playBtn">Reproducir</button>
          <button class="control-btn" id="pauseBtn">Pausar</button>
          <button class="control-btn" id="restartBtn">Reiniciar</button>
          <button class="control-btn" id="photoBtn">Foto</button>
        </div>
        <div class="signature"><strong>De: Alan</strong> Con todo mi cari√±o</div>
      </div>
      
      <div class="divider"></div>
      
      <div class="advanced-controls">
        <button class="advanced-btn" id="toggleLyricsBtn">Mostrar/Ocultar letra</button>
        <button class="advanced-btn" id="copyBtn">Copiar dedicatoria</button>
      </div>
    </div>
    <footer><div>Hecho con mucho cari√±o üíõ</div><div>Por Alan</div></footer>
    <audio id="song" preload="auto" src="happy-birthday-357371.mp3"></audio>
  </div>
  <script>
    const lyrics = [
      "Que Dios te bendiga hoy, ma√±ana y siempre.",
      "Te quiero mucho, y me encantar√≠a haber pasado contigo este d√≠a, pero por ciertas circunstancias no pude.",
      "Eres una persona especial, nunca lo olvides. Eres muy bonita y muy inteligente.",
      "Tienes muchas virtudes a tu favor, que no tendr√≠a tiempo de describirlas.",
      "Es muy lindo haberme topado contigo en esta vida.",
      "Gracias por existir, Ale. ‚ù§Ô∏è"
    ];
    
    const curtain = document.getElementById('curtain');
    const mainContent = document.getElementById('mainContent');
    const song = document.getElementById('song');
    const lyricDisplay = document.getElementById('lyricDisplay');
    const playBtn = document.getElementById('playBtn');
    const pauseBtn = document.getElementById('pauseBtn');
    const restartBtn = document.getElementById('restartBtn');
    const photoBtn = document.getElementById('photoBtn');
    const toggleLyricsBtn = document.getElementById('toggleLyricsBtn');
    const copyBtn = document.getElementById('copyBtn');
    
    let currentLyricIndex = 0;
    let isPlaying = false;
    let typeInterval;
    let currentCharIndex = 0;
    let isPaused = false;
    
    // Abrir el regalo
    document.getElementById('openBtn').addEventListener('click', async ()=>{
      curtain.style.opacity = 0; 
      curtain.style.transition='all .8s'; 
      setTimeout(()=>curtain.style.display='none',800);
      mainContent.style.opacity = 1; 
      mainContent.style.transform = 'translateY(0)';
    });
    
    // Controles de reproducci√≥n
    playBtn.addEventListener('click', async ()=>{
      if (!isPlaying) {
        try { 
          await song.play(); 
          isPlaying = true;
          isPaused = false;
          if (currentLyricIndex === 0 && currentCharIndex === 0) {
            startLyrics();
          } else if (isPaused) {
            // Continuar desde donde se paus√≥
            continueLyrics();
          }
        } catch(e) { 
          console.log('Error al reproducir:', e); 
        }
      }
    });
    
    pauseBtn.addEventListener('click', ()=>{
      song.pause();
      isPlaying = false;
      isPaused = true;
      clearInterval(typeInterval);
    });
    
    restartBtn.addEventListener('click', ()=>{
      song.currentTime = 0;
      currentLyricIndex = 0;
      currentCharIndex = 0;
      lyricDisplay.textContent = "Pulsa 'Reproducir' para escuchar la canci√≥n y ver la dedicatoria l√≠nea por l√≠nea...";
      isPlaying = false;
      isPaused = false;
      clearInterval(typeInterval);
    });
    
    photoBtn.addEventListener('click', ()=>{
      // Mensaje informativo sobre la foto permanente
      alert("Esta es una foto especial para ti, Ale. Es parte permanente de este regalo. üíõ");
    });
    
    // Controles avanzados
    toggleLyricsBtn.addEventListener('click', ()=>{
      const lyricSection = document.querySelector('.lyric-section');
      if (lyricSection.style.display === 'none') {
        lyricSection.style.display = 'flex';
        toggleLyricsBtn.textContent = 'Mostrar/Ocultar letra';
      } else {
        lyricSection.style.display = 'none';
        toggleLyricsBtn.textContent = 'Mostrar letra';
      }
    });
    
    copyBtn.addEventListener('click', ()=>{
      const fullText = lyrics.join('\n\n');
      navigator.clipboard.writeText(fullText)
        .then(() => alert("Dedicatoria copiada al portapapeles"))
        .catch(err => console.error('Error al copiar:', err));
    });
    
    // Funci√≥n para mostrar las letras
    function startLyrics() {
      currentLyricIndex = 0;
      currentCharIndex = 0;
      lyricDisplay.textContent = '';
      typeNextLyric();
    }
    
    function typeNextLyric() {
      if (currentLyricIndex < lyrics.length) {
        let text = lyrics[currentLyricIndex];
        currentCharIndex = 0;
        lyricDisplay.textContent = '';
        
        typeInterval = setInterval(() => {
          if (currentCharIndex < text.length) {
            lyricDisplay.textContent += text[currentCharIndex];
            currentCharIndex++;
          } else {
            clearInterval(typeInterval);
            currentLyricIndex++;
            currentCharIndex = 0;
            
            // Esperar antes de mostrar la siguiente l√≠nea
            if (currentLyricIndex < lyrics.length) {
              setTimeout(typeNextLyric, 3000);
            }
          }
        }, 40);
      }
    }
    
    function continueLyrics() {
      if (currentLyricIndex < lyrics.length) {
        let text = lyrics[currentLyricIndex];
        lyricDisplay.textContent = text.substring(0, currentCharIndex);
        
        typeInterval = setInterval(() => {
          if (currentCharIndex < text.length) {
            lyricDisplay.textContent += text[currentCharIndex];
            currentCharIndex++;
          } else {
            clearInterval(typeInterval);
            currentLyricIndex++;
            currentCharIndex = 0;
            
            // Esperar antes de mostrar la siguiente l√≠nea
            if (currentLyricIndex < lyrics.length) {
              setTimeout(typeNextLyric, 3000);
            }
          }
        }, 40);
      }
    }
  </script>
</body>
</html>
